// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';
import { configService } from '../../core/UnifiedConfigService';
import { logger } from '../../core/UnifiedLogger';

// Get configuration from unified config service
const dbConfig = configService.database;

// Import the supabase client like this:
// import { supabase } from "@/integrations/supabase/client";

export const supabase = createClient<Database>(dbConfig.url, dbConfig.anonKey, {
  auth: {
    storage: localStorage,
    persistSession: true,
    autoRefreshToken: true,
  },
  global: {
    headers: {
      'x-application-name': 'dealerscope',
      'x-application-version': configService.deployment.version,
    },
  },
});

// Log database connection initialization
logger.setContext('database').info('Supabase client initialized', {
  url: dbConfig.url,
  environment: configService.environment,
});